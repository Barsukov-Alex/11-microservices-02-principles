
# Домашнее задание к занятию «Микросервисы: принципы» Барсуков А.А

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- маршрутизация запросов к нужному сервису на основе конфигурации,
- возможность проверки аутентификационной информации в запросах,
- обеспечение терминации HTTPS.

Обоснуйте свой выбор.

## Ответ:

| Решение | Маршрутизация запросов | Проверка аутентификации | Терминация HTTPS |
| ------------- | ------------- | ------------- | ------------- |
| Kong | Да | Да | Да |
| AWS API Gateway | Да | Да | Да |
| Google Cloud Endpoints | Да | Да | Да |
| Nginx | Да (с помощью модулей) | Да (с помощью модулей) | Да |
| Tyk | Да | Да | Да |
| Traefik | Да | Да | Да |

Из таблицы видно, что подходят все перечисленные программные решения. Но есть платные решения, которые могут не всегда подойти. 
Я бы выбрал Nginx, так как они open source


## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

## Ответ:

| Решение | Кластеризация | Хранение на диске | Высокая скорость | Различные форматы | Права доступа | Простота эксплуатации |
| ------------- | ------------- | ------------- | ------------- | ------------- | ------------- | ------------- |
| RabbitMQ | Да | Да | Высокая | Да | Да | Средняя |
| Kafka | Да | Да | Очень высокая | Да | Да | Сложная |
| ActiveMQ | Да | Да | Высокая | Да | Да | Средняя |
| ZeroMQ | Нет | Нет | Очень высокая | Да | Нет | Простая|
| NSQ | Да | Да | Высокая | Да | Да | Простая |


Исходя из требований, наиболее подходящим решением будет Kafka. Вот причины этого выбора:

Кластеризация: Kafka отлично справляется с кластеризацией, обеспечивая высокую доступность и отказоустойчивость.

Хранение на диске: сообщения сохраняются на диск до тех пор, пока они не будут доставлены потребителям, что обеспечивает надежность передачи.

Высокая скорость: Kafka известен своей высокой производительностью при обработке больших объемов данных.

Различные форматы: Kafka поддерживает любые типы сообщений благодаря бинарной передаче данных.

Права доступа: Kafka предоставляет мощные механизмы управления доступом через ACL (Access Control Lists).

Простота эксплуатации: хотя настройка Kafka может быть сложной, она имеет развитую экосистему инструментов для мониторинга и управления, такие как Confluent Control Center.

Таким образом, Kafka соответствует всем необходимым критериям и является оптимальным выбором для задачи брокера сообщений.





